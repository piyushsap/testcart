/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/*!*********************************!*\
  !*** ./src/javascript/index.js ***!
  \*********************************/
eval("var shoppingCart = function () {\n  cart = [{\n    name: \"Lorem ipsum\",\n    count: 1,\n    price: 198.99,\n    img: \"src/images/product-thumbnail.jpg\"\n  }, {\n    name: \"Lorem ipsum dolor\",\n    count: 1,\n    price: 155.22,\n    img: \"src/images/product-thumbnail.jpg\"\n  }, {\n    name: \"Lorem ipsum dolor summit\",\n    count: 1,\n    price: 12.5,\n    img: \"src/images/product-thumbnail.jpg\"\n  }, {\n    name: \"Lorem ipsum summit\",\n    count: 1,\n    price: 199,\n    img: \"src/images/product-thumbnail.jpg\"\n  }];\n  saveCart(); // Save cart\n\n  function saveCart() {\n    sessionStorage.setItem(\"shoppingCart\", JSON.stringify(cart));\n  } // Load cart\n\n\n  function loadCart() {\n    cart = JSON.parse(sessionStorage.getItem(\"shoppingCart\"));\n  }\n\n  if (sessionStorage.getItem(\"shoppingCart\") != null) {\n    loadCart();\n  }\n\n  var cartObj = {}; // Add to cart\n\n  cartObj.addItemToCart = function (name) {\n    for (var _item in cart) {\n      if (cart[_item].name === name) {\n        cart[_item].count++;\n        saveCart();\n        return;\n      }\n    }\n  }; // Set count from item\n\n\n  cartObj.setCountForItem = function (name, count) {\n    for (var _i in cart) {\n      if (cart[_i].name === name) {\n        cart[_i].count = count;\n        break;\n      }\n    }\n  }; // Remove item from cart\n\n\n  cartObj.removeItemFromCart = function (name) {\n    for (var _item2 in cart) {\n      if (cart[_item2].name === name) {\n        cart[_item2].count--;\n\n        if (cart[_item2].count === 0) {\n          cart.splice(_item2, 1);\n        }\n\n        break;\n      }\n    }\n\n    saveCart();\n  }; // Remove all items from cart\n\n\n  cartObj.removeItemFromCartAll = function (name) {\n    for (var _item3 in cart) {\n      if (cart[_item3].name === name) {\n        cart.splice(_item3, 1);\n        break;\n      }\n    }\n\n    saveCart();\n  }; // Count cart\n\n\n  cartObj.totalCount = function () {\n    var totalCount = 0;\n\n    for (var _item4 in cart) {\n      totalCount += cart[_item4].count;\n    }\n\n    return totalCount;\n  }; // Subtotal cart\n\n\n  cartObj.subtotal = function () {\n    var subtotal = 0;\n\n    for (var _item5 in cart) {\n      subtotal += cart[_item5].price * cart[_item5].count;\n    }\n\n    return Number(subtotal.toFixed(2));\n  }; // Total Vat\n\n\n  cartObj.totalVat = function () {\n    var totalVat = this.subtotal() * 20 / 100;\n    return Number(totalVat.toFixed(2));\n  }; // List cart\n\n\n  cartObj.listCart = function () {\n    var cartCopy = [];\n\n    for (i in cart) {\n      item = cart[i];\n      itemCopy = {};\n\n      for (p in item) {\n        itemCopy[p] = item[p];\n      }\n\n      itemCopy.total = Number(item.price * item.count).toFixed(2);\n      cartCopy.push(itemCopy);\n    }\n\n    return cartCopy;\n  };\n\n  cartObj.submitCart = function (elem) {\n    var apiUrl = \"https://domain.com/postcart\";\n    var cartData = {\n      cart: cart,\n      subtotal: this.subtotal(),\n      totalvat: this.totalVat(),\n      totalCost: Number(this.subtotal() + this.totalVat()).toFixed(2)\n    };\n    $.ajax({\n      url: apiUrl,\n      type: \"POST\",\n      data: JSON.stringify(cartData),\n      contentType: \"application/json\",\n      success: function success(result) {\n        console.log(result);\n        elem.removeClass(\"loader\");\n        alert(\"order placed\");\n      },\n      error: function error(_error) {\n        console.log(\"Error \".concat(_error));\n        elem.removeClass(\"loader\");\n      }\n    });\n    setTimeout(function () {\n      elem.removeClass(\"loader\");\n      alert(\"order placed\");\n    }, 2000);\n  };\n\n  return cartObj;\n}(); // Display cart item\n\n\nfunction displayCart() {\n  var cartArray = shoppingCart.listCart(),\n      output = \"\";\n\n  if (cartArray.length) {\n    $('#buynow').prop('disabled', false);\n  } else {\n    $('#buynow').prop('disabled', true);\n  }\n\n  for (var i in cartArray) {\n    output += \"<div class=\\\"table-row\\\">\\n      <div class=\\\"table-col\\\"><img src=\\\"\".concat(cartArray[i].img, \"\\\" alt=\\\"\").concat(cartArray[i].name, \"\\\" /></div> \\n      <div class=\\\"table-col\\\">\\n        <label class=\\\"name\\\">\").concat(cartArray[i].name, \"</label>\\n        <label>$ \").concat(cartArray[i].price, \"</label>\\n        <select name=\\\"select\").concat(i, \"\\\" class=\\\"item-count\\\" data-name=\\\"\").concat(cartArray[i].name, \"\\\">\\n          <option value=\\\"0\\\" \").concat(cartArray[i].count === 0 ? \"selected\" : \"\", \">0</option>\\n          <option value=\\\"1\\\" \").concat(cartArray[i].count === 1 ? \"selected\" : \"\", \">1</option>\\n          <option value=\\\"2\\\" \").concat(cartArray[i].count === 2 ? \"selected\" : \"\", \">2</option>\\n          <option value=\\\"3\\\" \").concat(cartArray[i].count === 3 ? \"selected\" : \"\", \">3</option>\\n          <option value=\\\"4\\\" \").concat(cartArray[i].count === 4 ? \"selected\" : \"\", \">4</option>\\n          <option value=\\\"5\\\" \").concat(cartArray[i].count === 5 ? \"selected\" : \"\", \">5</option>\\n        </select>\\n      </div>\\n      <div class=\\\"table-col\\\" data-label=\\\"Total Cost\\\">$\").concat(cartArray[i].total, \"</div>\\n      <div class=\\\"table-col\\\"><button class=\\\"delete-item\\\" data-name=\\\"\").concat(cartArray[i].name, \"\\\"><img src=\\\"src/images/delete-icon.png\\\" alt=\\\"delete\\\" /></button></div>\\n      </div>\");\n  }\n\n  $(\".table-body\").html(output);\n  $(\".subtotal\").html(\"$\".concat(shoppingCart.subtotal()));\n  $(\".totalvat\").html(\"$\".concat(shoppingCart.totalVat()));\n  $(\".cartotal\").html(\"$\".concat(Number(shoppingCart.totalVat() + shoppingCart.subtotal()).toFixed(2)));\n  $(\".total-count\").html(shoppingCart.totalCount());\n} // Delete item button\n\n\n$(\"#itemTable\").on(\"click\", \".delete-item\", function (event) {\n  var name = $(this).data(\"name\");\n  shoppingCart.removeItemFromCartAll(name);\n  displayCart();\n}); // Item update\n\n$(\"#itemTable\").on(\"change\", \".item-count\", function (event) {\n  var name = $(this).data(\"name\"),\n      count = Number($(this).val());\n  shoppingCart.setCountForItem(name, count);\n  displayCart();\n}); // Buy Now\n\n$(\"#buynow\").click(function () {\n  $(this).addClass(\"loader\");\n  shoppingCart.submitCart($(this));\n});\ndisplayCart();\n\n//# sourceURL=webpack://cart/./src/javascript/index.js?");
/******/ })()
;